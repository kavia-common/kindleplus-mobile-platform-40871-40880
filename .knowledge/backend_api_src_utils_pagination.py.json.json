{"is_source_file": true, "format": "Python", "description": "This file defines utility classes and functions for handling pagination in a web API, including pagination metadata, response wrapper, and input sanitization/util functions.", "external_files": ["pydantic"], "external_methods": ["pydantic.BaseModel", "pydantic.Field"], "published": ["PageMeta", "Paginated", "sanitize_pagination", "offset_limit", "DEFAULT_PAGE_SIZE", "MAX_PAGE_SIZE"], "classes": [{"name": "PageMeta", "description": "Contains pagination metadata such as current page, total items, total pages, and page size."}, {"name": "Paginated", "description": "Generic wrapper for paginated list responses, including items and metadata."}], "methods": [{"name": "\"PageMeta\" build(total: int, page: int, page_size: int)", "description": "Creates a PageMeta instance given total number of items, current page, and page size, with bounds enforcement.", "scope": "PageMeta", "scopeKind": "class"}, {"name": "Tuple[int,int] sanitize_pagination(page: int | None, page_size: int | None)", "description": "Sanitizes and clamps pagination input parameters (page, page_size) to sensible limits.", "scope": "", "scopeKind": ""}, {"name": "Tuple[int,int] offset_limit(page: int, page_size: int)", "description": "Calculates the offset and limit for database queries based on page and page_size.", "scope": "", "scopeKind": ""}], "calls": ["max", "ceil"], "search-terms": ["pagination", "PageMeta", "PaginatedResponse", "offset", "limit", "sanitize"], "state": 2, "file_id": 36, "knowledge_revision": 109, "git_revision": "eafdfe0112b14a75f43b90fb8cb6069d7079c4c2", "revision_history": [{"87": ""}, {"109": "eafdfe0112b14a75f43b90fb8cb6069d7079c4c2"}], "ctags": [{"_type": "tag", "name": "DEFAULT_PAGE_SIZE", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^DEFAULT_PAGE_SIZE = 20$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "MAX_PAGE_SIZE", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^MAX_PAGE_SIZE = 100$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "PageMeta", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^class PageMeta(PydBaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Paginated", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^class Paginated(PydBaseModel, Generic[T]):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PydBaseModel", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^from pydantic import BaseModel as PydBaseModel$/", "language": "Python", "kind": "unknown", "nameref": "unknown:BaseModel"}, {"_type": "tag", "name": "T", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^T = TypeVar(\"T\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "build", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^    def build(total: int, page: int, page_size: int) -> \"PageMeta\":$/", "language": "Python", "typeref": "typename:\"PageMeta\"", "kind": "member", "signature": "(total: int, page: int, page_size: int)", "scope": "PageMeta", "scopeKind": "class"}, {"_type": "tag", "name": "items", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^    items: List[T] = Field(..., description=\"List of items for the current page\")$/", "language": "Python", "typeref": "typename:List[T]", "kind": "variable", "scope": "Paginated", "scopeKind": "class"}, {"_type": "tag", "name": "meta", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^    meta: PageMeta = Field(..., description=\"Pagination metadata\")$/", "language": "Python", "typeref": "typename:PageMeta", "kind": "variable", "scope": "Paginated", "scopeKind": "class"}, {"_type": "tag", "name": "offset_limit", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^def offset_limit(page: int, page_size: int) -> Tuple[int, int]:$/", "language": "Python", "typeref": "typename:Tuple[int,int]", "kind": "function", "signature": "(page: int, page_size: int)"}, {"_type": "tag", "name": "page", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^    page: int = Field(..., ge=1, description=\"Current page number (1-based)\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "PageMeta", "scopeKind": "class"}, {"_type": "tag", "name": "page_size", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^    page_size: int = Field(..., ge=1, description=\"Number of items per page\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "PageMeta", "scopeKind": "class"}, {"_type": "tag", "name": "sanitize_pagination", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^def sanitize_pagination(page: int | None, page_size: int | None) -> Tuple[int, int]:$/", "language": "Python", "typeref": "typename:Tuple[int,int]", "kind": "function", "signature": "(page: int | None, page_size: int | None)"}, {"_type": "tag", "name": "total", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^    total: int = Field(..., ge=0, description=\"Total number of items available\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "PageMeta", "scopeKind": "class"}, {"_type": "tag", "name": "total_pages", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^    total_pages: int = Field(..., ge=1, description=\"Total number of pages\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "PageMeta", "scopeKind": "class"}], "hash": "c3e50ebce405a19b039a0e1aade8f182", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/src/utils/pagination.py", "fields": [{"name": "DEFAULT_PAGE_SIZE = 20", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "MAX_PAGE_SIZE = 100", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "T = TypeVar(\"T\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[T] items", "scope": "Paginated", "scopeKind": "class", "description": "unavailable"}, {"name": "PageMeta meta", "scope": "Paginated", "scopeKind": "class", "description": "unavailable"}, {"name": "int page", "scope": "PageMeta", "scopeKind": "class", "description": "unavailable"}, {"name": "int page_size", "scope": "PageMeta", "scopeKind": "class", "description": "unavailable"}, {"name": "int total", "scope": "PageMeta", "scopeKind": "class", "description": "unavailable"}, {"name": "int total_pages", "scope": "PageMeta", "scopeKind": "class", "description": "unavailable"}]}