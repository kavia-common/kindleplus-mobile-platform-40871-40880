{"is_source_file": true, "format": "Python", "description": "This file defines the ORM model class 'Purchase' which represents a purchase record in the database, including fields such as user ID, book ID, price, currency, transaction ID, and status, along with database constraints and relationships.", "external_files": ["src/models/base.py"], "external_methods": ["Mapped", "mapped_column", "relationship"], "published": ["Purchase"], "classes": [{"name": "Purchase", "description": "A database model representing a user's purchase of a book, including fields for IDs, pricing, status, and relationships to User and Book models."}], "methods": [{"name": "__init__", "description": "Default constructor inherited from SQLAlchemy's ORM; explicitly defined or not shown here.", "additional_info": "No custom methods are defined in this class."}], "calls": ["ForeignKey", "relationship", "mapped_column"], "search-terms": ["Purchase", "purchase.py", "SQLAlchemy ORM", "purchase model", "purchase record", "purchase class", "purchases table"], "state": 2, "file_id": 17, "knowledge_revision": 37, "git_revision": "", "ctags": [{"_type": "tag", "name": "Purchase", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/models/purchase.py", "pattern": "/^class Purchase(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__table_args__", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/models/purchase.py", "pattern": "/^    __table_args__ = (UniqueConstraint(\"user_id\", \"book_id\", name=\"uq_purchases_user_id_book_id\"/", "file": true, "language": "Python", "kind": "variable", "scope": "Purchase", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/models/purchase.py", "pattern": "/^    __tablename__ = \"purchases\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Purchase", "scopeKind": "class"}, {"_type": "tag", "name": "book", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/models/purchase.py", "pattern": "/^    book: Mapped[\"Book\"] = relationship(\"Book\", back_populates=\"purchases\")$/", "language": "Python", "typeref": "typename:Mapped[\"Book\"]", "kind": "variable", "scope": "Purchase", "scopeKind": "class"}, {"_type": "tag", "name": "book_id", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/models/purchase.py", "pattern": "/^    book_id: Mapped[str] = mapped_column($/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "Purchase", "scopeKind": "class"}, {"_type": "tag", "name": "currency", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/models/purchase.py", "pattern": "/^    currency: Mapped[str] = mapped_column(String(8), nullable=False, default=\"USD\")$/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "Purchase", "scopeKind": "class"}, {"_type": "tag", "name": "price_cents", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/models/purchase.py", "pattern": "/^    price_cents: Mapped[int] = mapped_column(Integer, nullable=False, default=0)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Purchase", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/models/purchase.py", "pattern": "/^    status: Mapped[str] = mapped_column(String(32), nullable=False, default=\"completed\")$/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "Purchase", "scopeKind": "class"}, {"_type": "tag", "name": "transaction_id", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/models/purchase.py", "pattern": "/^    transaction_id: Mapped[str | None] = mapped_column(String(128), nullable=True)$/", "language": "Python", "typeref": "typename:Mapped[str | None]", "kind": "variable", "scope": "Purchase", "scopeKind": "class"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/models/purchase.py", "pattern": "/^    user: Mapped[\"User\"] = relationship(\"User\", back_populates=\"purchases\")$/", "language": "Python", "typeref": "typename:Mapped[\"User\"]", "kind": "variable", "scope": "Purchase", "scopeKind": "class"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/models/purchase.py", "pattern": "/^    user_id: Mapped[str] = mapped_column($/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "Purchase", "scopeKind": "class"}], "hash": "982a0270cae9c9b2db81b5fd523b9ca6", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/src/models/purchase.py", "fields": [{"name": "__table_args__ = (UniqueConstraint(\"user_id\", \"book_id\", name=\"uq_purchases_user_id_book_id\"/", "scope": "Purchase", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"purchases\"", "scope": "Purchase", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[\"Book\"] book", "scope": "Purchase", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] book_id", "scope": "Purchase", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] currency", "scope": "Purchase", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[int] price_cents", "scope": "Purchase", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] status", "scope": "Purchase", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str | None] transaction_id", "scope": "Purchase", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[\"User\"] user", "scope": "Purchase", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] user_id", "scope": "Purchase", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"37": ""}]}