{"is_source_file": true, "format": "Python", "description": "FastAPI router module for managing categories, including listing, creating, retrieving by ID or slug, updating, and deleting categories with pagination and slug generation.", "external_files": ["src/db/session", "src/models/category", "src/schemas/category", "src/utils/pagination"], "external_methods": ["get_db", "Category", "CategoryCreate", "CategoryRead", "CategoryUpdate", "PageMeta.build", "Paginated", "offset_limit", "sanitize_pagination"], "published": ["list_categories", "create_category", "get_category", "get_category_by_slug", "update_category", "delete_category"], "classes": [], "methods": [{"name": "_slugify", "description": "Converts a string into a URL-friendly slug by lowercasing, replacing non-alphanumeric characters with hyphens, collapsing multiple hyphens, and trimming hyphens."}, {"name": "list_categories", "description": "Lists categories with optional search query and pagination, returning paginated results."}, {"name": "create_category", "description": "Creates a new category, generating a slug from the name if not provided, ensuring slug uniqueness."}, {"name": "get_category", "description": "Retrieves a category by its ID."}, {"name": "get_category_by_slug", "description": "Retrieves a category by its slug."}, {"name": "update_category", "description": "Updates category fields, regenerating slug if name changes, ensuring slug uniqueness."}, {"name": "delete_category", "description": "Deletes a category by its ID."}], "calls": ["db.execute", "db.scalar", "db.get", "db.add", "db.commit", "db.refresh", "db.delete", "CategoryRead.model_validate", "select", "func.count", "or_", "select", "PageMeta.build", "Paginated"], "search-terms": ["categories API", "category slug generation", "category pagination", "category CRUD", "category search"], "state": 2, "file_id": 38, "knowledge_revision": 147, "git_revision": "ca509fbf661e2730833baa85bfe12fd7fc01f886", "revision_history": [{"90": ""}, {"106": "ca509fbf661e2730833baa85bfe12fd7fc01f886"}, {"147": "ca509fbf661e2730833baa85bfe12fd7fc01f886"}], "ctags": [], "filename": "backend_api/src/api/routers/categories.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/kindleplus-mobile-platform-40871-40880.git:kavia-main"}