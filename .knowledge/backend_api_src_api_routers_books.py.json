{"is_source_file": true, "format": "Python", "description": "FastAPI router module for managing book-related API endpoints, including listing, creating, retrieving, updating, and deleting books with filtering and pagination.", "external_files": ["src/db/session.py", "src/models/book.py", "src/models/category.py", "src/schemas/book.py", "src/utils/pagination.py"], "external_methods": ["get_db", "select", "selectinload", "func.count", "func.distinct", "or_", "and_", "select", "HTTPException", "Response", "status.HTTP_201_CREATED", "status.HTTP_404_NOT_FOUND", "status.HTTP_204_NO_CONTENT", "Book.model_validate", "BookRead.model_validate", "sanitize_pagination", "offset_limit"], "published": ["list_books", "create_book", "get_book", "update_book", "delete_book"], "classes": [{"name": "APIRouter", "description": "FastAPI router instance configured for '/books' endpoints."}], "methods": [{"name": "_apply_book_filters", "description": "Applies search and filter conditions to a SQLAlchemy select statement for books."}, {"name": "list_books", "description": "Endpoint to list books with optional search, filters, and pagination."}, {"name": "create_book", "description": "Endpoint to create a new book entry."}, {"name": "get_book", "description": "Endpoint to retrieve a book by its ID."}, {"name": "update_book", "description": "Endpoint to update mutable fields of a book."}, {"name": "delete_book", "description": "Endpoint to delete a book by its ID."}], "calls": ["get_db", "select", "selectinload", "func.count", "func.distinct", "or_", "and_", "select", "Book.model_validate", "BookRead.model_validate", "sanitize_pagination", "offset_limit", "db.execute", "db.add", "db.commit", "db.refresh", "db.get", "db.delete", "raise HTTPException", "Response"], "search-terms": ["books API", "book filters", "pagination", "FastAPI books router", "book CRUD endpoints", "category filtering", "SQLAlchemy book query"], "state": 2, "file_id": 39, "knowledge_revision": 150, "git_revision": "ca509fbf661e2730833baa85bfe12fd7fc01f886", "revision_history": [{"92": ""}, {"104": "eafdfe0112b14a75f43b90fb8cb6069d7079c4c2"}, {"105": "eafdfe0112b14a75f43b90fb8cb6069d7079c4c2"}, {"150": "ca509fbf661e2730833baa85bfe12fd7fc01f886"}], "ctags": [], "filename": "backend_api/src/api/routers/books.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/kindleplus-mobile-platform-40871-40880.git:kavia-main"}