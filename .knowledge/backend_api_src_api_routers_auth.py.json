{"is_source_file": true, "format": "Python", "description": "Source code for authentication API endpoints in a FastAPI application, including login, token refresh, and Google sign-in.", "external_files": ["src/core/config.py", "src/db/session.py", "src/models/user.py", "src/schemas/auth.py", "src/schemas/user.py", "src/services/auth_service.py", "src/services/google_oauth.py"], "external_methods": ["get_settings", "get_db", "auth_service.verify_password", "auth_service.create_token_pair_for_user", "auth_service.get_token_payload", "verify_google_id_token", "get_or_create_user_from_google"], "published": ["router"], "classes": [{"name": "AuthResponse", "description": "Schema for authentication response containing tokens and user info."}, {"name": "GoogleLoginRequest", "description": "Schema for Google login request containing Google ID token."}, {"name": "LoginRequest", "description": "Schema for login request containing email and password."}, {"name": "RefreshRequest", "description": "Schema for refresh token request."}, {"name": "TokenPair", "description": "Schema for access and refresh tokens."}, {"name": "UserRead", "description": "Schema for user data returned in responses."}], "methods": [{"name": "_build_auth_response", "description": "Helper function to create an AuthResponse object from user and tokens."}, {"name": "login", "description": "Endpoint to authenticate user with email and password, returning tokens."}, {"name": "refresh_tokens", "description": "Endpoint to refresh authentication tokens using a refresh token."}, {"name": "google_sign_in", "description": "Endpoint to authenticate via Google ID token, creating or retrieving user."}], "calls": ["auth_service.verify_password", "auth_service.create_token_pair_for_user", "auth_service.get_token_payload", "verify_google_id_token", "get_or_create_user_from_google"], "search-terms": ["FastAPI auth endpoints", "Google OAuth sign-in", "Token refresh", "User authentication", "auth_service"], "state": 2, "file_id": 33, "knowledge_revision": 141, "git_revision": "c0fca5e09ca498202521756180ddc1f2d45a28b2", "revision_history": [{"76": ""}, {"80": ""}, {"141": "c0fca5e09ca498202521756180ddc1f2d45a28b2"}], "ctags": [], "filename": "backend_api/src/api/routers/auth.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/kindleplus-mobile-platform-40871-40880.git:kavia-main"}