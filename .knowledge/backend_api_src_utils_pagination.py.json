{"is_source_file": true, "format": "Python", "description": "This file defines utility classes and functions for handling pagination, including generating pagination metadata, sanitizing input parameters, and calculating offset and limit for database queries.", "external_files": ["pydantic", "math"], "external_methods": ["pydantic.Field", "pydantic.generics.GenericModel", "math.ceil"], "published": ["sanitize_pagination", "offset_limit"], "classes": [{"name": "PageMeta", "description": "Represents pagination metadata such as current page, page size, total items, and total pages."}, {"name": "Paginated", "description": "A generic wrapper class for paginated results, holding items and associated metadata."}], "methods": [{"name": "\"PageMeta\" build(total: int, page: int, page_size: int)", "description": "Creates a PageMeta object with properly clamped and calculated values based on total items, requested page, and page size.", "scope": "PageMeta", "scopeKind": "class"}, {"name": "Tuple[int,int] offset_limit(page: int, page_size: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Tuple[int,int] sanitize_pagination(page: int | None, page_size: int | None)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["math.ceil"], "search-terms": ["pagination", "PageMeta", "sanitize_pagination", "offset_limit", "generic responses", "Pydantic models"], "state": 2, "file_id": 36, "knowledge_revision": 87, "git_revision": "", "ctags": [{"_type": "tag", "name": "DEFAULT_PAGE_SIZE", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^DEFAULT_PAGE_SIZE = 20$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "MAX_PAGE_SIZE", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^MAX_PAGE_SIZE = 100$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "PageMeta", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^class PageMeta(PydBaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Paginated", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^class Paginated(GenericModel, Generic[T]):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PydBaseModel", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^from pydantic import BaseModel as PydBaseModel$/", "language": "Python", "kind": "unknown", "nameref": "unknown:BaseModel"}, {"_type": "tag", "name": "T", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^T = TypeVar(\"T\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "build", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^    def build(total: int, page: int, page_size: int) -> \"PageMeta\":$/", "language": "Python", "typeref": "typename:\"PageMeta\"", "kind": "member", "signature": "(total: int, page: int, page_size: int)", "scope": "PageMeta", "scopeKind": "class"}, {"_type": "tag", "name": "items", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^    items: List[T] = Field(..., description=\"List of items for the current page\")$/", "language": "Python", "typeref": "typename:List[T]", "kind": "variable", "scope": "Paginated", "scopeKind": "class"}, {"_type": "tag", "name": "meta", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^    meta: PageMeta = Field(..., description=\"Pagination metadata\")$/", "language": "Python", "typeref": "typename:PageMeta", "kind": "variable", "scope": "Paginated", "scopeKind": "class"}, {"_type": "tag", "name": "offset_limit", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^def offset_limit(page: int, page_size: int) -> Tuple[int, int]:$/", "language": "Python", "typeref": "typename:Tuple[int,int]", "kind": "function", "signature": "(page: int, page_size: int)"}, {"_type": "tag", "name": "page", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^    page: int = Field(..., ge=1, description=\"Current page number (1-based)\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "PageMeta", "scopeKind": "class"}, {"_type": "tag", "name": "page_size", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^    page_size: int = Field(..., ge=1, description=\"Number of items per page\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "PageMeta", "scopeKind": "class"}, {"_type": "tag", "name": "sanitize_pagination", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^def sanitize_pagination(page: int | None, page_size: int | None) -> Tuple[int, int]:$/", "language": "Python", "typeref": "typename:Tuple[int,int]", "kind": "function", "signature": "(page: int | None, page_size: int | None)"}, {"_type": "tag", "name": "total", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^    total: int = Field(..., ge=0, description=\"Total number of items available\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "PageMeta", "scopeKind": "class"}, {"_type": "tag", "name": "total_pages", "path": "/home/kavia/workspace/code-generation/kindleplus-mobile-platform-40871-40880/backend_api/src/utils/pagination.py", "pattern": "/^    total_pages: int = Field(..., ge=1, description=\"Total number of pages\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "PageMeta", "scopeKind": "class"}], "hash": "a7265cca3cf61b10d595b348801ac75e", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/src/utils/pagination.py", "fields": [{"name": "DEFAULT_PAGE_SIZE = 20", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "MAX_PAGE_SIZE = 100", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "T = TypeVar(\"T\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[T] items", "scope": "Paginated", "scopeKind": "class", "description": "unavailable"}, {"name": "PageMeta meta", "scope": "Paginated", "scopeKind": "class", "description": "unavailable"}, {"name": "int page", "scope": "PageMeta", "scopeKind": "class", "description": "unavailable"}, {"name": "int page_size", "scope": "PageMeta", "scopeKind": "class", "description": "unavailable"}, {"name": "int total", "scope": "PageMeta", "scopeKind": "class", "description": "unavailable"}, {"name": "int total_pages", "scope": "PageMeta", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"87": ""}]}